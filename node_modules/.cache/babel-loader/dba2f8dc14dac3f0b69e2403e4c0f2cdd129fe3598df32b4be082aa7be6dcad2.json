{"ast":null,"code":"\"use strict\";\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function () {\n        return m[k];\n      }\n    };\n  }\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n};\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useRazorpay = void 0;\nconst React = __importStar(require(\"react\"));\nconst razorpay_1 = __importDefault(require(\"./razorpay\"));\nconst NODE_ENV = process.env.NODE_ENV;\nconst logger = (message, ...args) => {\n  if (NODE_ENV === \"prod\" || NODE_ENV === \"production\") return;\n  console.log(`[react-razorpay]:`, message, ...args);\n};\nconst useRazorpay = () => {\n  const [isLoading, setIsLoading] = React.useState(false);\n  const [error, setError] = React.useState();\n  const isClient = typeof window !== \"undefined\";\n  const checkScriptLoaded = () => {\n    if (!isClient) return false;\n    if (!(\"Razorpay\" in window)) return false;\n    return true;\n  };\n  function loadScript(src) {\n    return new Promise((resolve, reject) => {\n      const script = window.document.createElement(\"script\");\n      script.src = src;\n      script.onload = function () {\n        resolve();\n      };\n      script.onerror = function (e) {\n        reject(e.toString());\n      };\n      document.body.appendChild(script);\n    });\n  }\n  React.useEffect(() => {\n    logger(`init... (Logs won't appear in production env)`);\n    if (!isClient) {\n      logger(`server detected! Skipping script loading...`);\n      return;\n    }\n    setIsLoading(true);\n    if (!checkScriptLoaded()) {\n      logger(`loading script: https://checkout.razorpay.com/v1/checkout.js`);\n      loadScript(\"https://checkout.razorpay.com/v1/checkout.js\").then(() => {\n        logger(`script loaded success..`);\n        setError(undefined);\n      }).catch(err => {\n        logger(`script loading error`, err);\n        if (err instanceof Error) {\n          setError(err.message);\n        } else {\n          setError(`Unknown Error`);\n        }\n      }).finally(() => setIsLoading(false));\n    }\n  }, []);\n  return {\n    error,\n    isLoading,\n    Razorpay: razorpay_1.default\n  };\n};\nexports.useRazorpay = useRazorpay;","map":{"version":3,"names":["React","__importStar","require","razorpay_1","__importDefault","NODE_ENV","process","env","logger","message","args","console","log","useRazorpay","isLoading","setIsLoading","useState","error","setError","isClient","window","checkScriptLoaded","loadScript","src","Promise","resolve","reject","script","document","createElement","onload","onerror","e","toString","body","appendChild","useEffect","then","undefined","catch","err","Error","finally","Razorpay","default","exports"],"sources":["../src/index.ts"],"sourcesContent":[null],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,MAAAA,KAAA,GAAAC,YAAA,CAAAC,OAAA;AACA,MAAAC,UAAA,GAAAC,eAAA,CAAAF,OAAA;AAIA,MAAMG,QAAQ,GAAGC,OAAO,CAACC,GAAG,CAACF,QAMb;AAEhB,MAAMG,MAAM,GAAGA,CAACC,OAAY,EAAE,GAAGC,IAAS,KAAI;EAC5C,IAAIL,QAAQ,KAAK,MAAM,IAAIA,QAAQ,KAAK,YAAY,EAAE;EACtDM,OAAO,CAACC,GAAG,CAAC,mBAAmB,EAAEH,OAAO,EAAE,GAAGC,IAAI,CAAC;AACpD,CAAC;AAEM,MAAMG,WAAW,GAAGA,CAAA,KAAK;EAC9B,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGf,KAAK,CAACgB,QAAQ,CAAC,KAAK,CAAC;EACvD,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGlB,KAAK,CAACgB,QAAQ,EAAsB;EAE9D,MAAMG,QAAQ,GAAG,OAAOC,MAAM,KAAK,WAAW;EAE9C,MAAMC,iBAAiB,GAAGA,CAAA,KAAK;IAC7B,IAAI,CAACF,QAAQ,EAAE,OAAO,KAAK;IAC3B,IAAI,EAAE,UAAU,IAAIC,MAAM,CAAC,EAAE,OAAO,KAAK;IACzC,OAAO,IAAI;EACb,CAAC;EAED,SAASE,UAAUA,CAACC,GAAW;IAC7B,OAAO,IAAIC,OAAO,CAAO,CAACC,OAAO,EAAEC,MAAM,KAAI;MAC3C,MAAMC,MAAM,GAAGP,MAAM,CAACQ,QAAQ,CAACC,aAAa,CAAC,QAAQ,CAAC;MACtDF,MAAM,CAACJ,GAAG,GAAGA,GAAG;MAChBI,MAAM,CAACG,MAAM,GAAG;QACdL,OAAO,EAAE;MACX,CAAC;MACDE,MAAM,CAACI,OAAO,GAAG,UAAUC,CAAC;QAC1BN,MAAM,CAACM,CAAC,CAACC,QAAQ,EAAE,CAAC;MACtB,CAAC;MACDL,QAAQ,CAACM,IAAI,CAACC,WAAW,CAACR,MAAM,CAAC;IACnC,CAAC,CAAC;EACJ;EAEA3B,KAAK,CAACoC,SAAS,CAAC,MAAK;IACnB5B,MAAM,CAAC,+CAA+C,CAAC;IACvD,IAAI,CAACW,QAAQ,EAAE;MACbX,MAAM,CAAC,6CAA6C,CAAC;MACrD;;IAGFO,YAAY,CAAC,IAAI,CAAC;IAElB,IAAI,CAACM,iBAAiB,EAAE,EAAE;MACxBb,MAAM,CAAC,8DAA8D,CAAC;MACtEc,UAAU,CAAC,8CAA8C,CAAC,CACvDe,IAAI,CAAC,MAAK;QACT7B,MAAM,CAAC,yBAAyB,CAAC;QACjCU,QAAQ,CAACoB,SAAS,CAAC;MACrB,CAAC,CAAC,CACDC,KAAK,CAAEC,GAAG,IAAI;QACbhC,MAAM,CAAC,sBAAsB,EAAEgC,GAAG,CAAC;QACnC,IAAIA,GAAG,YAAYC,KAAK,EAAE;UACxBvB,QAAQ,CAACsB,GAAG,CAAC/B,OAAO,CAAC;SACtB,MAAM;UACLS,QAAQ,CAAC,eAAe,CAAC;;MAE7B,CAAC,CAAC,CACDwB,OAAO,CAAC,MAAM3B,YAAY,CAAC,KAAK,CAAC,CAAC;;EAEzC,CAAC,EAAE,EAAE,CAAC;EAEN,OAAO;IAAEE,KAAK;IAAEH,SAAS;IAAE6B,QAAQ,EAARxC,UAAA,CAAAyC;EAAQ,CAAE;AACvC,CAAC;AAvDYC,OAAA,CAAAhC,WAAW,GAAAA,WAAA","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}