{"ast":null,"code":"var _jsxFileName = \"C:\\\\Vishal_Pal\\\\Project\\\\local-service-finder_2\\\\client\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { BrowserRouter as Router, Route, Routes, Navigate } from 'react-router-dom';\nimport axios from 'axios';\nimport SearchBar from './components/SearchBar';\nimport ProviderCard from './components/ProviderCard';\nimport BookingModal from './components/BookingModal';\nimport AuthModal from './components/AuthModal';\nimport ProviderProfile from './components/ProviderProfile';\nimport ProviderDashboard from './components/ProviderDashboard';\nimport UserProfile from './components/UserProfile';\nimport { useRazorpay } from 'react-razorpay';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst App = () => {\n  _s();\n  const [providers, setProviders] = useState([]);\n  const [selectedProvider, setSelectedProvider] = useState(null);\n  const [showBookingModal, setShowBookingModal] = useState(false);\n  const [showAuthModal, setShowAuthModal] = useState(false);\n  const [user, setUser] = useState(null);\n  const [location, setLocation] = useState('');\n  const [isLoading, setIsLoading] = useState(true); // Add loading state\n  const {\n    Razorpay\n  } = useRazorpay();\n\n  // Fetch user location\n  useEffect(() => {\n    if (navigator.geolocation) {\n      navigator.geolocation.getCurrentPosition(async position => {\n        const {\n          latitude,\n          longitude\n        } = position.coords;\n        try {\n          const res = await axios.get(`https://api.bigdatacloud.net/data/reverse-geocode-client?latitude=${latitude}&longitude=${longitude}&localityLanguage=en`);\n          setLocation(res.data.city || 'Delhi');\n        } catch (err) {\n          console.error('Geolocation error:', err);\n          setLocation('Delhi');\n        }\n      }, () => setLocation('Delhi'));\n    }\n  }, []);\n\n  // Fetch providers\n  useEffect(() => {\n    const fetchProviders = async () => {\n      try {\n        const res = await axios.get(`http://localhost:5000/api/providers?location=${location}`);\n        setProviders(res.data);\n      } catch (err) {\n        console.error('Fetch providers error:', err);\n      }\n    };\n    if (location) fetchProviders();\n  }, [location]);\n\n  // Check if user is logged in\n  useEffect(() => {\n    const validateToken = async () => {\n      const token = localStorage.getItem('token');\n      if (token) {\n        try {\n          const res = await axios.get('http://localhost:5000/api/auth/me', {\n            headers: {\n              Authorization: `Bearer ${token}`\n            }\n          });\n          setUser(res.data);\n        } catch (err) {\n          var _err$response, _err$response$data;\n          console.error('Token validation error:', ((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || err.message);\n          localStorage.removeItem('token'); // Only remove token if invalid\n        }\n      }\n      setIsLoading(false); // Set loading to false after validation\n    };\n    validateToken();\n  }, []);\n  const handleSearch = async ({\n    query,\n    location\n  }) => {\n    try {\n      const res = await axios.get(`http://localhost:5000/api/providers?query=${query}&location=${location}`);\n      setProviders(res.data);\n    } catch (err) {\n      console.error('Search error:', err);\n    }\n  };\n  const handleBooking = async bookingData => {\n    if (!user) {\n      setShowAuthModal(true);\n      return;\n    }\n    try {\n      const res = await axios.post('http://localhost:5000/api/bookings', bookingData, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n      const bookingId = res.data._id;\n      const orderRes = await axios.post('http://localhost:5000/api/payments/create-order', {\n        amount: bookingData.service.price,\n        bookingId\n      }, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem('token')}`\n        }\n      });\n      const options = {\n        key: process.env.REACT_APP_RAZORPAY_KEY_ID,\n        amount: orderRes.data.amount,\n        currency: orderRes.data.currency,\n        order_id: orderRes.data.orderId,\n        handler: async response => {\n          try {\n            const verifyRes = await axios.post('http://localhost:5000/api/payments/verify-payment', {\n              orderId: response.razorpay_order_id,\n              razorpayPaymentId: response.razorpay_payment_id,\n              razorpaySignature: response.razorpay_signature,\n              bookingId\n            }, {\n              headers: {\n                Authorization: `Bearer ${localStorage.getItem('token')}`\n              }\n            });\n            alert(verifyRes.data.message);\n          } catch (err) {\n            var _err$response2, _err$response2$data;\n            alert(((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : (_err$response2$data = _err$response2.data) === null || _err$response2$data === void 0 ? void 0 : _err$response2$data.message) || 'Payment verification failed');\n          }\n        },\n        prefill: {\n          name: user.name,\n          email: user.email\n        },\n        theme: {\n          color: '#2563eb'\n        }\n      };\n      const razorpayInstance = new Razorpay(options);\n      razorpayInstance.open();\n    } catch (err) {\n      var _err$response3, _err$response3$data;\n      console.error('Booking error:', err);\n      alert(((_err$response3 = err.response) === null || _err$response3 === void 0 ? void 0 : (_err$response3$data = _err$response3.data) === null || _err$response3$data === void 0 ? void 0 : _err$response3$data.message) || 'Booking failed');\n    }\n  };\n\n  // Show loading spinner while validating user\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen flex items-center justify-center\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Router, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-gray-50\",\n      children: [/*#__PURE__*/_jsxDEV(\"header\", {\n        className: \"bg-blue-800 text-white p-6 text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-3xl font-bold\",\n          children: \"Local Service Finder\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mt-2\",\n          children: \"Find trusted service providers in your area\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 11\n        }, this), user ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-center gap-4 mt-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"Welcome, \", user.name]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n            href: user.role === 'provider' ? '/provider/dashboard' : '/profile',\n            className: \"text-blue-300 hover:underline\",\n            children: user.role === 'provider' ? 'Dashboard' : 'Profile'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              localStorage.removeItem('token');\n              setUser(null);\n            },\n            className: \"bg-red-600 text-white p-2 rounded-lg\",\n            children: \"Logout\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setShowAuthModal(true),\n          className: \"bg-green-600 text-white p-2 rounded-lg mt-4\",\n          children: \"Login / Register\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n        className: \"max-w-7xl mx-auto p-6\",\n        children: [/*#__PURE__*/_jsxDEV(Routes, {\n          children: [/*#__PURE__*/_jsxDEV(Route, {\n            path: \"/\",\n            element: /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(SearchBar, {\n                onSearch: handleSearch,\n                initialLocation: location\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 184,\n                columnNumber: 19\n              }, this), selectedProvider ? /*#__PURE__*/_jsxDEV(ProviderProfile, {\n                provider: selectedProvider,\n                onBack: () => setSelectedProvider(null),\n                onBook: () => setShowBookingModal(true)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 186,\n                columnNumber: 21\n              }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mt-6\",\n                children: providers.map(provider => /*#__PURE__*/_jsxDEV(ProviderCard, {\n                  provider: provider,\n                  onSelect: () => setSelectedProvider(provider),\n                  onBook: () => {\n                    setSelectedProvider(provider);\n                    setShowBookingModal(true);\n                  }\n                }, provider._id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 194,\n                  columnNumber: 25\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 192,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/provider/dashboard\",\n            element: user && user.role === 'provider' ? /*#__PURE__*/_jsxDEV(ProviderDashboard, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 211,\n              columnNumber: 59\n            }, this) : /*#__PURE__*/_jsxDEV(Navigate, {\n              to: \"/\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 211,\n              columnNumber: 83\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/profile\",\n            element: user ? /*#__PURE__*/_jsxDEV(UserProfile, {\n              user: user,\n              setUser: setUser\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 215,\n              columnNumber: 31\n            }, this) : /*#__PURE__*/_jsxDEV(Navigate, {\n              to: \"/\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 215,\n              columnNumber: 79\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(BookingModal, {\n          provider: selectedProvider,\n          isOpen: showBookingModal,\n          onClose: () => setShowBookingModal(false),\n          onBook: handleBooking\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(AuthModal, {\n          isOpen: showAuthModal,\n          onClose: () => setShowAuthModal(false),\n          onAuth: userData => {\n            setUser(userData);\n            setShowAuthModal(false);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"footer\", {\n        className: \"bg-gray-800 text-white p-4 text-center\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\xA9 2025 Local Service Finder. All rights reserved.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 148,\n    columnNumber: 5\n  }, this);\n};\n_s(App, \"awY4h6Vof+BaO9Po1r5GbE3Wmcs=\", false, function () {\n  return [useRazorpay];\n});\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","BrowserRouter","Router","Route","Routes","Navigate","axios","SearchBar","ProviderCard","BookingModal","AuthModal","ProviderProfile","ProviderDashboard","UserProfile","useRazorpay","jsxDEV","_jsxDEV","Fragment","_Fragment","App","_s","providers","setProviders","selectedProvider","setSelectedProvider","showBookingModal","setShowBookingModal","showAuthModal","setShowAuthModal","user","setUser","location","setLocation","isLoading","setIsLoading","Razorpay","navigator","geolocation","getCurrentPosition","position","latitude","longitude","coords","res","get","data","city","err","console","error","fetchProviders","validateToken","token","localStorage","getItem","headers","Authorization","_err$response","_err$response$data","response","message","removeItem","handleSearch","query","handleBooking","bookingData","post","bookingId","_id","orderRes","amount","service","price","options","key","process","env","REACT_APP_RAZORPAY_KEY_ID","currency","order_id","orderId","handler","verifyRes","razorpay_order_id","razorpayPaymentId","razorpay_payment_id","razorpaySignature","razorpay_signature","alert","_err$response2","_err$response2$data","prefill","name","email","theme","color","razorpayInstance","open","_err$response3","_err$response3$data","className","children","fileName","_jsxFileName","lineNumber","columnNumber","href","role","onClick","path","element","onSearch","initialLocation","provider","onBack","onBook","map","onSelect","to","isOpen","onClose","onAuth","userData","_c","$RefreshReg$"],"sources":["C:/Vishal_Pal/Project/local-service-finder_2/client/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { BrowserRouter as Router, Route, Routes, Navigate } from 'react-router-dom';\nimport axios from 'axios';\nimport SearchBar from './components/SearchBar';\nimport ProviderCard from './components/ProviderCard';\nimport BookingModal from './components/BookingModal';\nimport AuthModal from './components/AuthModal';\nimport ProviderProfile from './components/ProviderProfile';\nimport ProviderDashboard from './components/ProviderDashboard';\nimport UserProfile from './components/UserProfile';\nimport { useRazorpay } from 'react-razorpay';\n\nconst App = () => {\n  const [providers, setProviders] = useState([]);\n  const [selectedProvider, setSelectedProvider] = useState(null);\n  const [showBookingModal, setShowBookingModal] = useState(false);\n  const [showAuthModal, setShowAuthModal] = useState(false);\n  const [user, setUser] = useState(null);\n  const [location, setLocation] = useState('');\n  const [isLoading, setIsLoading] = useState(true); // Add loading state\n  const { Razorpay } = useRazorpay();\n\n  // Fetch user location\n  useEffect(() => {\n    if (navigator.geolocation) {\n      navigator.geolocation.getCurrentPosition(\n        async (position) => {\n          const { latitude, longitude } = position.coords;\n          try {\n            const res = await axios.get(\n              `https://api.bigdatacloud.net/data/reverse-geocode-client?latitude=${latitude}&longitude=${longitude}&localityLanguage=en`\n            );\n            setLocation(res.data.city || 'Delhi');\n          } catch (err) {\n            console.error('Geolocation error:', err);\n            setLocation('Delhi');\n          }\n        },\n        () => setLocation('Delhi')\n      );\n    }\n  }, []);\n\n  // Fetch providers\n  useEffect(() => {\n    const fetchProviders = async () => {\n      try {\n        const res = await axios.get(`http://localhost:5000/api/providers?location=${location}`);\n        setProviders(res.data);\n      } catch (err) {\n        console.error('Fetch providers error:', err);\n      }\n    };\n    if (location) fetchProviders();\n  }, [location]);\n\n  // Check if user is logged in\n  useEffect(() => {\n    const validateToken = async () => {\n      const token = localStorage.getItem('token');\n      if (token) {\n        try {\n          const res = await axios.get('http://localhost:5000/api/auth/me', {\n            headers: { Authorization: `Bearer ${token}` },\n          });\n          setUser(res.data);\n        } catch (err) {\n          console.error('Token validation error:', err.response?.data?.message || err.message);\n          localStorage.removeItem('token'); // Only remove token if invalid\n        }\n      }\n      setIsLoading(false); // Set loading to false after validation\n    };\n    validateToken();\n  }, []);\n\n  const handleSearch = async ({ query, location }) => {\n    try {\n      const res = await axios.get(\n        `http://localhost:5000/api/providers?query=${query}&location=${location}`\n      );\n      setProviders(res.data);\n    } catch (err) {\n      console.error('Search error:', err);\n    }\n  };\n\n  const handleBooking = async (bookingData) => {\n    if (!user) {\n      setShowAuthModal(true);\n      return;\n    }\n    try {\n      const res = await axios.post('http://localhost:5000/api/bookings', bookingData, {\n        headers: { Authorization: `Bearer ${localStorage.getItem('token')}` },\n      });\n      const bookingId = res.data._id;\n      const orderRes = await axios.post(\n        'http://localhost:5000/api/payments/create-order',\n        { amount: bookingData.service.price, bookingId },\n        { headers: { Authorization: `Bearer ${localStorage.getItem('token')}` } }\n      );\n\n      const options = {\n        key: process.env.REACT_APP_RAZORPAY_KEY_ID,\n        amount: orderRes.data.amount,\n        currency: orderRes.data.currency,\n        order_id: orderRes.data.orderId,\n        handler: async (response) => {\n          try {\n            const verifyRes = await axios.post(\n              'http://localhost:5000/api/payments/verify-payment',\n              {\n                orderId: response.razorpay_order_id,\n                razorpayPaymentId: response.razorpay_payment_id,\n                razorpaySignature: response.razorpay_signature,\n                bookingId,\n              },\n              { headers: { Authorization: `Bearer ${localStorage.getItem('token')}` } }\n            );\n            alert(verifyRes.data.message);\n          } catch (err) {\n            alert(err.response?.data?.message || 'Payment verification failed');\n          }\n        },\n        prefill: { name: user.name, email: user.email },\n        theme: { color: '#2563eb' },\n      };\n\n      const razorpayInstance = new Razorpay(options);\n      razorpayInstance.open();\n    } catch (err) {\n      console.error('Booking error:', err);\n      alert(err.response?.data?.message || 'Booking failed');\n    }\n  };\n\n  // Show loading spinner while validating user\n  if (isLoading) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center\">\n        <p>Loading...</p>\n      </div>\n    );\n  }\n\n  return (\n    <Router>\n      <div className=\"min-h-screen bg-gray-50\">\n        <header className=\"bg-blue-800 text-white p-6 text-center\">\n          <h1 className=\"text-3xl font-bold\">Local Service Finder</h1>\n          <p className=\"mt-2\">Find trusted service providers in your area</p>\n          {user ? (\n            <div className=\"flex justify-center gap-4 mt-4\">\n              <span>Welcome, {user.name}</span>\n              <a href={user.role === 'provider' ? '/provider/dashboard' : '/profile'} className=\"text-blue-300 hover:underline\">\n                {user.role === 'provider' ? 'Dashboard' : 'Profile'}\n              </a>\n              <button\n                onClick={() => {\n                  localStorage.removeItem('token');\n                  setUser(null);\n                }}\n                className=\"bg-red-600 text-white p-2 rounded-lg\"\n              >\n                Logout\n              </button>\n            </div>\n          ) : (\n            <button\n              onClick={() => setShowAuthModal(true)}\n              className=\"bg-green-600 text-white p-2 rounded-lg mt-4\"\n            >\n              Login / Register\n            </button>\n          )}\n        </header>\n        <main className=\"max-w-7xl mx-auto p-6\">\n          <Routes>\n            <Route\n              path=\"/\"\n              element={\n                <>\n                  <SearchBar onSearch={handleSearch} initialLocation={location} />\n                  {selectedProvider ? (\n                    <ProviderProfile\n                      provider={selectedProvider}\n                      onBack={() => setSelectedProvider(null)}\n                      onBook={() => setShowBookingModal(true)}\n                    />\n                  ) : (\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mt-6\">\n                      {providers.map((provider) => (\n                        <ProviderCard\n                          key={provider._id}\n                          provider={provider}\n                          onSelect={() => setSelectedProvider(provider)}\n                          onBook={() => {\n                            setSelectedProvider(provider);\n                            setShowBookingModal(true);\n                          }}\n                        />\n                      ))}\n                    </div>\n                  )}\n                </>\n              }\n            />\n            <Route\n              path=\"/provider/dashboard\"\n              element={user && user.role === 'provider' ? <ProviderDashboard /> : <Navigate to=\"/\" />}\n            />\n            <Route\n              path=\"/profile\"\n              element={user ? <UserProfile user={user} setUser={setUser} /> : <Navigate to=\"/\" />}\n            />\n          </Routes>\n          <BookingModal\n            provider={selectedProvider}\n            isOpen={showBookingModal}\n            onClose={() => setShowBookingModal(false)}\n            onBook={handleBooking}\n          />\n          <AuthModal\n            isOpen={showAuthModal}\n            onClose={() => setShowAuthModal(false)}\n            onAuth={(userData) => {\n              setUser(userData);\n              setShowAuthModal(false);\n            }}\n          />\n        </main>\n        <footer className=\"bg-gray-800 text-white p-4 text-center\">\n          <p>© 2025 Local Service Finder. All rights reserved.</p>\n        </footer>\n      </div>\n    </Router>\n  );\n};\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}